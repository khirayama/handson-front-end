machine:
  timezone: Asia/Tokyo

deployment:
  master:
    branch: master
    commands:
      - git config --global user.name "circleci"
      - git config --global user.email "circleci@feedforce.jp"
      - git clone git@github.com:khirayama/handson-front-end.git
      - cd handson-front-end
      - git checkout -b gh-pages
      - git checkout master
      - git branch -D gh-pages
      - git checkout -b gh-pages
      - npm install
      - npm run publish
      - git add --all .
      - git commit -m "publish gh-pages"
      - git push origin gh-pages -f
